<!DOCTYPE html>
<pre>
<head>
</head>
<html>
<pre>
#!/usr/bin/env python
#!*-* coding:utf-8 *-*

"""

:mod:`lab03_urllib2_REST` -- urllib2 and REST
=============================================

LAB03 Learning Objective: Familiarization with urllib2 module and client REST 
      API usage.
      Optional Objective: Can use requests and docopt for this lab

 a. Use argparse to accept the following parameters: 

     -c --creds  takes (2) arguments: username and api-key OR username and password

    OR

     -u --username  takes (1) argument:  username, and use getpass module for the password/api-key

 b. Run the following curl to verify operation, then convert into a urllib2 call:

   APIKey:
   curl https://identity.api.rackspacecloud.com/v2.0/tokens -X 'POST' \
     -H "accept: application/json" -H "content-type: application/json" \
     -d '{"auth":{"RAX-KSKEY:apiKeyCredentials":{"username":"USERID","apiKey":"APIKEY"}}}'

   Password:
   curl https://identity.api.rackspacecloud.com/v2.0/tokens -X 'POST' \
     -H "accept: application/json" -H "content-type: application/json" \
     -d '{"auth":{"passwordCredentials":{"username":"USERID","password":"PASSWORD"}}}'

   using your own credentials. Documentation can be found here:

   http://docs-internal.rackspace.com/auth/api/v2.0/auth-admin-devguide/content/POST_authenticate_v2.0_tokens_Token_Calls.html

 c. Call your compute_api_json update_auth_response() to update the auth_api_info cache file.

 d. Run the following curl, then convert into a urllib2 call:
 
   curl -s https://dfw.servers.api.rackspacecloud.com/v2/TENANT/servers/detail \
     -H "X-Auth-Token: TOKEN"

   where TOKEN is from get_token_id() and TENANT is from get_tenant_id()

 e. Run your program and print the results.

"""
</pre>
</body>
</html>
