<!DOCTYPE html><head></head><body>
<pre>
#!/usr/bin/env python2
# -*- coding: utf-8 -*-

""" 

:mod:`lab14_scope_binding` --- Scope and Binding
================================================

#. Create a new module called *my_scope.py*

#. Create a new variable in *my_scope* called *my_x* = 3

#. Create a new function in *my_scope* called *my_fun*
   that creates variable *my_x = 33* and returns it

#. In the mainline code for *my_scope*, print the value
   of *my_x*, then call *my_fun* and print its return
   value. Are they the same? Why or why not?

#. Create a new function in *my_scope.py* called *deco* that accepts a single
   function argument, then defines and returns another function (i.e. def inside a def). 

#. Call *deco* within your mainline and send the builtin function globals() as an argument. Call *deco* again but send locals(). If globals() == locals() in mainline, why the difference?

#. Finally, call *deco* with *my_fun*

"""


def my_fun():
    my_x = 33
    my_extra_var = 9
    print locals()
    return my_x


def deco(fn):
    def wrapped():
        wrapped_x = 8
        print fn()
    return wrapped


if __name__ == "__main__":

    my_x = 3
    print "\n\nmy_x is", my_x
    
    print "\n\nCalling my_fun() to change my_x"
    my_fun()
    print "but my_x is still", my_x, " because of the different namespaces"

    print "\n\nCalling deco with globals"
    deco(globals)()
    print "\n\nCalling deco with locals"
    deco(locals)()
    print "\n\nCalling deco with my_fun"
    deco(my_fun)()
 
</pre>

</body></html>

